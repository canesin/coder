# Litestream bootstrap for coder scratchpad SQLite durability.
# Copy to "litestream.yml" and set environment variables before running.

# Global timing defaults.
sync-interval: 15s

# Snapshot policy (global).
snapshot:
  interval: 1h
  retention: 168h

logging:
  level: info
  type: text
  stderr: true

dbs:
  - path: .coder/state.db
    replica:
      # Example: s3://my-private-bucket/coder/state
      # Also supports: gs://, abs://, sftp://, webdav://, file://, etc.
      url: ${LITESTREAM_REPLICA_URL}

      # Optional provider-specific fields:
      # endpoint: ${LITESTREAM_ENDPOINT}
      # region: ${LITESTREAM_REGION}
      # access-key-id: ${AWS_ACCESS_KEY_ID}
      # secret-access-key: ${AWS_SECRET_ACCESS_KEY}
